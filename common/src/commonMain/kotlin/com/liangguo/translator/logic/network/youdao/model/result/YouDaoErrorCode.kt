package com.liangguo.translator.logic.network.youdao.model.result

/**
 * @author ldh
 * 时间: 2021/10/20 21:39
 * 邮箱: 2637614077@qq.com
 *
 * 错误码查询，一个数组装错误码，一个装对应错误信息
 */
object YouDaoErrorCode {

    /**
     * 查询错误码的入口，查不到返回null
     * @param errorCode
     * @return
     */
    fun getErrorMessage(errorCode: Int): String? {
        //其实可以用顺序查找，写二分查找是为了复习下练练手
        if (errorCode < ERROR_CODE_ARRAYS[0] || errorCode > ERROR_CODE_ARRAYS[ERROR_CODE_ARRAYS.size - 1]) {
            return null
        }
        var a = 0
        var b = ERROR_CODE_ARRAYS.size - 1
        while (a <= b) {
            val mid = (a + b) / 2
            if (errorCode < ERROR_CODE_ARRAYS[mid]) {
                b = mid - 1
            } else if (errorCode > ERROR_CODE_ARRAYS[mid]) {
                a = mid + 1
            } else {
                return ERROR_CODE_STRS[mid]
            }
        }
        return null
    }

    fun getErrorMessage(errorCode: String) = getErrorMessage(errorCode.toInt())

    val ERROR_CODE_ARRAYS = intArrayOf(
        101,
        102,
        103,
        104,
        105,
        106,
        107,
        108,
        109,
        110,
        111,
        112,
        113,
        114,
        116,
        201,
        202,
        203,
        205,
        206,
        207,
        301,
        302,
        303,
        304,
        401,
        402,
        411,
        412,
        1001,
        1002,
        1003,
        1004,
        1201,
        1301,
        1411,
        1412,
        2003,
        2004,
        2005,
        2006,
        2201,
        2301,
        2411,
        2412,
        3001,
        3002,
        3003,
        3004,
        3005,
        3006,
        3007,
        3008,
        3009,
        3010,
        3201,
        3301,
        3302,
        3303,
        3411,
        3412,
        4001,
        4002,
        4003,
        4004,
        4005,
        4006,
        4007,
        4201,
        4301,
        4303,
        4411,
        4412,
        5001,
        5002,
        5003,
        5004,
        5005,
        5006,
        5201,
        5301,
        5411,
        5412,
        9001,
        9002,
        9003,
        9004,
        9005,
        9301,
        9303,
        9411,
        9412,
        10001,
        10002,
        10004,
        10201,
        10301,
        10411,
        10412,
        11001,
        11002,
        11003,
        11004,
        11005,
        11006,
        11007,
        11201,
        11301,
        11303,
        11411,
        11412,
        12001,
        12002,
        12003,
        12004,
        12005,
        12006,
        13001,
        13002,
        13003,
        13004,
        13301,
        15001,
        15002,
        15003,
        17001,
        17002,
        17003,
        17004,
        17005
    )
    val ERROR_CODE_STRS = arrayOf(
        "缺少必填的参数,首先确保必填参数齐全，然后确认参数书写是否正确。",
        "不支持的语言类型",
        "翻译文本过长",
        "不支持的API类型",
        "不支持的签名类型",
        "不支持的响应类型",
        "不支持的传输加密类型",
        "应用ID无效，注册账号，登录后台创建应用和实例并完成绑定，可获得应用ID和应用密钥等信息",
        "batchLog格式不正确",
        "无相关服务的有效实例,应用没有绑定服务实例，可以新建服务实例，绑定服务实例。注：某些服务的翻译结果发音需要tts实例，需要在控制台创建语音合成实例绑定应用后方能使用。",
        "开发者账号无效",
        "请求服务无效",
        "查询内容不能为空",
        "不支持的图片传输方式",
        "strict字段取值无效，请参考文档填写正确参数值",
        "解密失败，可能为DES,BASE64,URLDecode的错误",
        "签名检验失败,如果确认应用ID和应用密钥的正确性，仍返回202，一般是编码问题。请确保翻译文本 q 为UTF-8编码.",
        "访问IP地址不在可访问IP列表",
        "请求的接口与应用的平台类型不一致，确保接入方式（Android SDK、IOS SDK、API）与创建的应用平台类型一致。如有疑问请参考入门指南",
        "因为时间戳无效导致签名校验失败",
        "重放请求",
        "辞典查询失败",
        "翻译查询失败",
        "服务端的其它异常",
        "会话闲置太久超时",
        "账户已经欠费，请进行账户充值",
        "offlinesdk不可用",
        "访问频率受限,请稍后访问",
        "长请求过于频繁，请稍后访问",
        "无效的OCR类型",
        "不支持的OCR image类型",
        "不支持的OCR Language类型",
        "识别图片过大",
        "图片base64解密失败",
        "OCR段落识别失败",
        "访问频率受限",
        "超过最大识别字节数",
        "不支持的语言识别Language类型",
        "合成字符过长",
        "不支持的音频文件类型",
        "不支持的发音类型",
        "解密失败",
        "服务的异常",
        "访问频率受限,请稍后访问",
        "超过最大请求字符数",
        "不支持的语音格式",
        "不支持的语音采样率",
        "不支持的语音声道",
        "不支持的语音上传类型",
        "不支持的语言类型",
        "不支持的识别类型",
        "识别音频文件过大",
        "识别音频时长过长",
        "不支持的音频文件类型",
        "不支持的发音类型",
        "解密失败",
        "语音识别失败",
        "语音翻译失败",
        "服务的异常",
        "访问频率受限,请稍后访问",
        "超过最大请求字符数",
        "不支持的语音识别格式",
        "不支持的语音识别采样率",
        "不支持的语音识别声道",
        "不支持的语音上传类型",
        "不支持的语言类型",
        "识别音频文件过大",
        "识别音频时长过长",
        "解密失败",
        "语音识别失败",
        "服务的异常",
        "访问频率受限,请稍后访问",
        "超过最大请求时长",
        "无效的OCR类型",
        "不支持的OCR image类型",
        "不支持的语言类型",
        "识别图片过大",
        "不支持的图片类型",
        "文件为空",
        "解密错误，图片base64解密失败",
        "OCR段落识别失败",
        "访问频率受限",
        "超过最大识别流量",
        "不支持的语音格式",
        "不支持的语音采样率",
        "不支持的语音声道",
        "不支持的语音上传类型",
        "不支持的语音识别 Language类型",
        "ASR识别失败",
        "服务器内部错误",
        "访问频率受限（超过最大调用次数）",
        "超过最大处理语音长度",
        "无效的OCR类型",
        "不支持的OCR image类型",
        "识别图片过大",
        "图片base64解密失败",
        "OCR段落识别失败",
        "访问频率受限",
        "超过最大识别流量",
        "不支持的语音识别格式",
        "不支持的语音识别采样率",
        "不支持的语音识别声道",
        "不支持的语音上传类型",
        "不支持的语言类型",
        "识别音频文件过大",
        "识别音频时长过长，最大支持30s",
        "解密失败",
        "语音识别失败",
        "服务的异常",
        "访问频率受限,请稍后访问",
        "超过最大请求时长",
        "图片尺寸过大",
        "图片base64解密失败",
        "引擎服务器返回错误",
        "图片为空",
        "不支持的识别图片类型",
        "图片无匹配结果",
        "不支持的角度类型",
        "不支持的文件类型",
        "表格识别图片过大",
        "文件为空",
        "表格识别失败",
        "需要图片",
        "图片过大（1M）",
        "服务调用失败",
        "需要图片",
        "图片过大（1M）",
        "识别类型未找到",
        "不支持的识别类型",
        "服务调用失败"
    )
}